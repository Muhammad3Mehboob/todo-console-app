---
id: 001
title: Ratify Evolution of Todo Constitution
stage: constitution
date: 2026-01-01
surface: agent
model: claude-sonnet-4-5
feature: none
branch: 001-ai-textbook
user: M Mehboob
command: /sp.constitution
labels: ["constitution", "governance", "principles", "initial-ratification"]
links:
  spec: null
  ticket: null
  adr: null
  pr: null
files:
  - .specify/memory/constitution.md
tests:
  - None (constitution document)
---

## Prompt

# Project Constitution: The Evolution of Todo
**Version:** 1.0
**Project Goal:** To master the Architecture of Intelligence by evolving a simple Todo application into a fully-featured, cloud-native AI chatbot using Spec-Driven Development (SDD).

---

## 1. Core Vision & Principles
*   **AI-Native & Spec-Driven:** The role of the engineer is "System Architect," not "Syntax Writer." Development follows the strict lifecycle: **Specify â†’ Plan â†’ Tasks â†’ Implement**.
*   **The Golden Rule:** **No Task = No Code.** No agent or human is allowed to write or modify code until a corresponding task exists in the specification and has been approved.
*   **Single Source of Truth:** The Markdown specification files are the absolute authority. If a requirement is missing, agents must stop and request clarification rather than improvising.
*   **Iterative Evolution:** The project must progress through five distinct phases, with each phase building upon the previous one without skipping steps.

---

## 2. Strict Technical Constraints

### A. The "No Manual Coding" Mandate
*   Manual code writing is strictly prohibited.
*   All code must be generated by **Claude Code** based on refined Specs and Plans.
*   If the output is incorrect, the user must refine the **Spec** until the generated code is correct.

### B. Core Technology Stack
*   **Package Management:** UV
*   **Frontend:** Next.js 14+ (App Router), TypeScript, Tailwind CSS, OpenAI ChatKit.
*   **Backend:** Python 3.13+, FastAPI, SQLModel (ORM).
*   **Database:** Neon Serverless PostgreSQL.
*   **Authentication:** Better Auth with JWT Tokens (Stateless).
*   **AI Frameworks:** OpenAI Agents SDK, Official MCP (Model Context Protocol) SDK.
*   **Infrastructure:** Docker, Kubernetes (Minikube/DOKS), Helm Charts.
*   **Distributed Systems:** Kafka (Redpanda/Confluent), Dapr (Distributed Application Runtime).
*   **AIOps Tools:** kubectl-ai, kagent, Docker AI Agent (Gordon).

---

## 3. Architecture & Standards

### A. Development Workflow (Agentic Dev Stack)
1.  **Constitution (WHY):** Define principles and non-negotiables.
2.  **Specify (WHAT):** Define requirements, user journeys, and acceptance criteria.
3.  **Plan (HOW):** Define architecture, schema, components, and service boundaries.
4.  **Tasks (BREAKDOWN):** Atomic, testable units of work with unique IDs.
5.  **Implement (CODE):** Execution based only on authorized tasks.

### B. Coding Standards
*   **Documentation:** Every code file must contain a comment linking it back to the specific Task ID and Spec section.
*   **Clean Code:** Follow proper Python project structures and Next.js patterns (Server Components by default).
*   **Statelessness:** The Chat API and MCP tools must remain stateless; all state (conversations, tasks) must persist in the database.
*   **Test Coverage:** Aim for high-quality, deterministic development (Target: 90% test coverage).

---

## 4. Project Scope

### Phase I: In-Memory Console App
*   Basic CRUD: Add, Delete, Update, View, Mark Complete.

### Phase II: Full-Stack Web App
*   Persistent storage (Neon DB).
*   RESTful API endpoints.
*   User Authentication (Signup/Signin) via Better Auth.

### Phase III: AI-Powered Chatbot
*   Conversational interface for natural language task management.
*   MCP server integration for task operations.
*   Conversation history persistence.

### Phase IV: Local Kubernetes Deployment
*   Containerization and local orchestration (Minikube).
*   AI-assisted DevOps (kubectl-ai, kagent).

### Phase V: Advanced Cloud Deployment
*   Event-driven architecture using Kafka.
*   Dapr for distributed runtime (Pub/Sub, State, Secrets).
*   Deployment to production-grade Kubernetes (AKS/GKE/DOKS).

---

## 5. Agent Behavior Rules
*   **Stop and Request:** If an agent cannot find a required spec, it must stop and request it.
*   **Hierarchy of Authority:** In case of conflict: **Constitution > Specify > Plan > Tasks**.
*   **Prohibited Actions:**
    *   No "freestyle" coding or architecture.
    *   No altering the stack without justification.
    *   No inventing features or flows not defined in `speckit.specify`.
    *   No producing "creative" implementations that violate the `speckit.plan`.

---

## 6. Submission & Evaluation Requirements
*   All source code and `/specs` history must be in a public GitHub repository.
*   Each phase requires a README and a CLAUDE.md file for instructions.
*   Deployment links (Vercel/DOKS) and a < 90-second demo video are mandatory for evaluation.

## Response snapshot

Constitution successfully created and ratified at `.specify/memory/constitution.md`.

**Key Actions Taken:**
1. Parsed user-provided constitutional principles and technical constraints
2. Filled complete constitution template with seven core principles
3. Documented technology stack, development workflow, coding standards
4. Detailed all five project phases with deliverables and success criteria
5. Established agent behavior rules and governance process
6. Created sync impact report documenting version 1.0.0 ratification
7. Verified template dependencies (plan, spec, tasks templates) alignment

**Constitution Structure:**
- **7 Core Principles**: AI-Native Development, No Task = No Code, Single Source of Truth, Iterative Evolution, No Manual Coding, Strict Workflow, Statelessness
- **Technology Stack**: Complete specification of frontend (Next.js), backend (FastAPI), database (Neon PostgreSQL), AI frameworks (OpenAI Agents SDK, MCP), infrastructure (Kubernetes, Kafka, Dapr)
- **5 Project Phases**: Console App â†’ Web App â†’ AI Chatbot â†’ Local K8s â†’ Cloud Deployment
- **Governance**: Amendment process, compliance review, version control

**Version**: 1.0.0 | **Ratified**: 2026-01-01

## Outcome

- âœ… Impact: Established foundational governance for "The Evolution of Todo" project with seven non-negotiable principles and complete technical stack definition
- ðŸ§ª Tests: None (governance document)
- ðŸ“ Files: Created/updated .specify/memory/constitution.md (490 lines)
- ðŸ” Next prompts: /sp.specify for Phase I specification, /sp.plan for Phase I architecture planning
- ðŸ§  Reflection: Constitution establishes strict spec-driven development with AI code generation mandate. All subsequent work must reference this constitution for compliance.

## Evaluation notes (flywheel)

- Failure modes observed: None
- Graders run and results (PASS/FAIL): Constitution validation: PASS (no unresolved placeholders, all sections complete, version semantics correct)
- Prompt variant (if applicable): N/A (initial constitution)
- Next experiment (smallest change to try): Begin Phase I specification with /sp.specify command, ensuring alignment with constitution principles
